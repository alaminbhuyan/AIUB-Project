{% extends 'base.html' %}
{% load static %}

{% block title %} Image processing Page {%endblock title %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'css/mystyle.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/navbar.css' %}" />
{% endblock css %}


{% block content %}

  <div class="container" style="margin-top: 150px;">

    <div class="row d-flex justify-content-center">

      <div class="col-sm-3 mb-3 mb-sm-0">
        <div class="card">
          <img src="{% static 'img/XrayImage/CHNCXR_0001_0.jpg' %}" class="card-img-top" alt="Image 1" style="width: 100%; height: 200px;">
          
          <div class="card-body">
            <h5 class="card-title text-center">Normal Image</h5>
            <!-- <p class="card-text">With supporting text below as a natural lead-in to additional content.</p> -->
            <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
          </div>
        </div>
      </div>

      <!-- <div class="col-sm-2 mb-3 mb-sm-0 d-flex justify-content-center align-items-center"> -->
      <div class="col-sm-3 mb-3 mb-sm-0 d-flex justify-content-center align-items-center">
        <button class="btn btn-primary" type="button">
          <span class="spinner-border spinner-border-sm" aria-hidden="true" id="span1"></span>
          <span role="status" id="span2">Processing Image</span>
        </button>
      </div>
      

      <div class="col-sm-3">
        <img src="{% static 'img/XrayImage/default.jpg' %}" class="card-img-top" alt="Image 2" id="slideshowImage" style="width: 100%; height: 200px;">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title text-center">Processed Image</h5>
            <!-- <p class="card-text">With supporting text below as a natural lead-in to additional content.</p>
                        <a href="#" class="btn btn-primary">Go somewhere</a> -->
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}

{% block js %}
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Array of image URLs
      const imageUrls = [
        'XrayImage\\default.jpg',
        'XrayImage\\CHNCXR_0001_0.png',
      ];

      const slideshowImage = document.getElementById('slideshowImage');
      let timeoutId = null;

      function showNextImage() {
        slideshowImage.src = imageUrls[1]; // Change the source to the second image
        document.getElementById('span1').style.display = 'none';
        document.getElementById('span2').innerText = 'Image processing done';
      }

      // Start the slideshow after 5 seconds
      if (timeoutId === null) {
        timeoutId = setTimeout(showNextImage, 3000);
      }
    });
  </script>
  
  <script src="{% static 'js/myscript.js' %}"></script>
  {% endblock js %}

</body>

</html>